package functions;

import java.time.LocalDate;
import java.time.LocalTime;

// setTime()
// precondition: 
// postcondition: 
// 			1. currentDate 변수에 230101 형식으로 현재날짜를 저장한다. 서버에 올릴 용도이다.
//			2. currentTime 변수에 080000 형식으로 현재시간을 저장한다. 서버에 올릴 용도이다.
//			3. currentHour 변수에 
//			4. currentMin
//			5. currentDateForFile
//			6. currentTimeForFile
// return: none

public class CurrentTime {
	
	private static String currentDate = "";
	private static String currentTime = "";
	private static String currentHour;
	private static String currentMin;
	private static String currentDateForFile = "";
	private static String currentTimeForFile = "";
	
	// 이 메서드를 호출하면 현재 시간을 맴버 변수에 저장
	public static void setTime() {
		LocalDate date = LocalDate.now();
		
		// 현재 날짜
		CurrentTime.currentDate = date.toString();
		
		// 현재 날짜 (이미지 파일용)
		String[] dateForFile = CurrentTime.currentDate.split("-");
		dateForFile[0] = dateForFile[0].substring(2, 4);
		CurrentTime.currentDateForFile = String.join("", dateForFile);
		
		
		LocalTime time = LocalTime.now();
		
		// 현재 시간
		CurrentTime.currentTime = 
				String.valueOf(time.getHour()) + ":" +
				String.valueOf(time.getMinute()) + ":" +
				String.valueOf(time.getSecond());
		
		// 현재 시, 분
		CurrentTime.currentHour = time.getHour() + "";
		System.out.println(currentHour);
		CurrentTime.currentMin = time.getMinute()  + "";
		
		// 현재 시간 (이미지 파일용)
		CurrentTime.currentTimeForFile = 
				String.valueOf(time.getHour()) +
				String.valueOf(time.getMinute()) +
				String.valueOf(time.getSecond());
		
	}
	
	// 맴버 변수 가져오는 메서드
	public static String getTime(String type) {
		switch(type) {
			case "date":
				return CurrentTime.currentDate;
			case "time":
				return CurrentTime.currentTime;
			case "dateForFile":
				return CurrentTime.currentDateForFile;
			case "timeForFile":
				return CurrentTime.currentTimeForFile;
			case "hour":
				return CurrentTime.currentHour;
			case "min":
				return CurrentTime.currentMin;
			default:
				return "";  // 여기에 에러를 만들어서 넘길까? 230316
		}
	}
}
