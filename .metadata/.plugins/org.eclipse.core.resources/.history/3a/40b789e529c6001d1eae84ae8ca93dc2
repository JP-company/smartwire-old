package file;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Scanner;

// Characters 변수 
// wireID : 와이어 기계를 식별하는 값이다. ex) sit1

// Operations 기능

// 
// precondition:
// postcondition:
// return:

public class WireID {
	private static String wireID;
	private static final String DIRECTORY = "setting";
	private static final String FILE = "wireID.txt";
	
	public static void main(String[] args) throws IOException {
		// 폴더 위치, 이름
		String filePath = System.getProperty("user.dir")
				+ File.separator	// Windows('\'), Linux, MAC('/')
				+ DIRECTORY;
				
		try {
				ArrayList<String> fileReaded = new ArrayList<>();
		    	
				// 로그 파일 불러오기, 한줄씩 저장
		    	BufferedReader reader = new BufferedReader(new FileReader(filePath + File.separator + FILE));
		    	String str;
		    	while ((str = reader.readLine()) != null) {
		    		fileReaded.add(str);
		    	}
		    	System.out.println(fileReaded);
		    	String[] FileArr = new String[0];
		    	FileArr = fileReaded.toArray(FileArr);
		    	wireID = FileArr[0];
		    	System.out.println(wireID);
	    	
		} catch (FileNotFoundException fe) {  // 파일 없으면 파일 생성
			File fileDir = new File(filePath);
			File file = new File(filePath, FILE);
			
			fileDir.mkdir();
			file.createNewFile();
			
			FileWriter fw = new FileWriter(file);
            BufferedWriter writer = new BufferedWriter(fw);
            
            System.out.println("와이어 ID를 입력하세요: ");
            Scanner sc = new Scanner(System.in);
            wireID = sc.nextLine();
            writer.write(wireID);
            writer.close();
            
		}
	}
	
	
}

